"use strict";

/*
 * Copyright Â© MIKO LLC - All Rights Reserved
 * Unauthorized copying of this file, via any medium is strictly prohibited
 * Proprietary and confidential
 * Written by Alexey Portnov, 8 2020
 */

/* global ace, PbxApi */
var systemDiagnosticLogs = {
  $showBtn: $('#show-last-log'),
  viewer: '',
  $fileSelectDropDown: $('#system-diagnostic-form .filenames-select'),
  logsItems: [],
  defaultLogItem: null,
  $formObj: $('#system-diagnostic-form'),
  $fileName: $('#system-diagnostic-form .filename'),
  initialize: function () {
    function initialize() {
      systemDiagnosticLogs.initializeAce();
      PbxApi.SyslogGetLogsList(systemDiagnosticLogs.cbFormatDropdownResults);
      systemDiagnosticLogs.$showBtn.on('click', function (e) {
        e.preventDefault();
        var data = systemDiagnosticLogs.$formObj.form('get values');
        PbxApi.SyslogGetLogFromFile(data.filename, data.filter, data.lines, systemDiagnosticLogs.cbUpdateLogText);
      });
    }

    return initialize;
  }(),
  initializeAce: function () {
    function initializeAce() {
      var IniMode = ace.require('ace/mode/julia').Mode;

      systemDiagnosticLogs.viewer = ace.edit('log-content-readonly');
      systemDiagnosticLogs.viewer.setReadOnly(true);
      systemDiagnosticLogs.viewer.session.setMode(new IniMode());
      systemDiagnosticLogs.viewer.setTheme('ace/theme/monokai');
      systemDiagnosticLogs.viewer.resize();
      systemDiagnosticLogs.viewer.setShowPrintMargin(false);
      systemDiagnosticLogs.viewer.setOptions({
        maxLines: 45
      });
    }

    return initializeAce;
  }(),

  /**
   * Makes formatted menu structure
   */
  cbFormatDropdownResults: function () {
    function cbFormatDropdownResults(response) {
      if (response === false) {
        return;
      }

      systemDiagnosticLogs.logsItems = [];
      var files = response.files;
      $.each(files, function (index, item) {
        systemDiagnosticLogs.logsItems.push({
          name: "".concat(index, " (").concat(item.size, ")"),
          value: item.path,
          selected: item["default"]
        });
      });
      systemDiagnosticLogs.$fileSelectDropDown.dropdown({
        values: systemDiagnosticLogs.logsItems,
        onChange: systemDiagnosticLogs.cbOnChangeFile,
        ignoreCase: true,
        fullTextSearch: true,
        forceSelection: false
      });
    }

    return cbFormatDropdownResults;
  }(),

  /**
   * Callback after change log file in select
   * @param value
   */
  cbOnChangeFile: function () {
    function cbOnChangeFile(value) {
      if (value.length === 0) {
        return;
      }

      systemDiagnosticLogs.$formObj.form('set value', 'filename', value);
      var data = systemDiagnosticLogs.$formObj.form('get values');
      PbxApi.SyslogGetLogFromFile(data.filename, data.filter, data.lines, systemDiagnosticLogs.cbUpdateLogText);
    }

    return cbOnChangeFile;
  }(),

  /**
   * Updates log view
   * @param data
   */
  cbUpdateLogText: function () {
    function cbUpdateLogText(data) {
      systemDiagnosticLogs.viewer.getSession().setValue(data.content);
      var row = systemDiagnosticLogs.viewer.session.getLength() - 1;
      var column = systemDiagnosticLogs.viewer.session.getLine(row).length; // or simply Infinity

      systemDiagnosticLogs.viewer.gotoLine(row + 1, column);
    }

    return cbUpdateLogText;
  }()
};
$(document).ready(function () {
  systemDiagnosticLogs.initialize();
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9TeXN0ZW1EaWFnbm9zdGljL3N5c3RlbS1kaWFnbm9zdGljLWluZGV4LXNob3dsb2dzLmpzIl0sIm5hbWVzIjpbInN5c3RlbURpYWdub3N0aWNMb2dzIiwiJHNob3dCdG4iLCIkIiwidmlld2VyIiwiJGZpbGVTZWxlY3REcm9wRG93biIsImxvZ3NJdGVtcyIsImRlZmF1bHRMb2dJdGVtIiwiJGZvcm1PYmoiLCIkZmlsZU5hbWUiLCJpbml0aWFsaXplIiwiaW5pdGlhbGl6ZUFjZSIsIlBieEFwaSIsIlN5c2xvZ0dldExvZ3NMaXN0IiwiY2JGb3JtYXREcm9wZG93blJlc3VsdHMiLCJvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImRhdGEiLCJmb3JtIiwiU3lzbG9nR2V0TG9nRnJvbUZpbGUiLCJmaWxlbmFtZSIsImZpbHRlciIsImxpbmVzIiwiY2JVcGRhdGVMb2dUZXh0IiwiSW5pTW9kZSIsImFjZSIsInJlcXVpcmUiLCJNb2RlIiwiZWRpdCIsInNldFJlYWRPbmx5Iiwic2Vzc2lvbiIsInNldE1vZGUiLCJzZXRUaGVtZSIsInJlc2l6ZSIsInNldFNob3dQcmludE1hcmdpbiIsInNldE9wdGlvbnMiLCJtYXhMaW5lcyIsInJlc3BvbnNlIiwiZmlsZXMiLCJlYWNoIiwiaW5kZXgiLCJpdGVtIiwicHVzaCIsIm5hbWUiLCJzaXplIiwidmFsdWUiLCJwYXRoIiwic2VsZWN0ZWQiLCJkcm9wZG93biIsInZhbHVlcyIsIm9uQ2hhbmdlIiwiY2JPbkNoYW5nZUZpbGUiLCJpZ25vcmVDYXNlIiwiZnVsbFRleHRTZWFyY2giLCJmb3JjZVNlbGVjdGlvbiIsImxlbmd0aCIsImdldFNlc3Npb24iLCJzZXRWYWx1ZSIsImNvbnRlbnQiLCJyb3ciLCJnZXRMZW5ndGgiLCJjb2x1bW4iLCJnZXRMaW5lIiwiZ290b0xpbmUiLCJkb2N1bWVudCIsInJlYWR5Il0sIm1hcHBpbmdzIjoiOztBQUFBOzs7Ozs7O0FBTUE7QUFFQSxJQUFNQSxvQkFBb0IsR0FBRztB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QUE1QixDQUFvQ2dDLE9BQXBDLENBQTRDSCxHQUE1QyxFQUFpREosTUFBaEUsQ0FIcUIsQ0FHbUQ7O0FBQ3hFdkQsTUFBQUEsb0JBQW9CLENBQUNHLE1BQXJCLENBQTRCNEQsUUFBNUIsQ0FBcUNKLEdBQUcsR0FBRyxDQUEzQyxFQUE4Q0UsTUFBOUM7QUFDQTs7QUE3RTJCO0FBQUE7QUFBQSxDQUE3QjtBQWdGQTNELENBQUMsQ0FBQzhELFFBQUQsQ0FBRCxDQUFZQyxLQUFaLENBQWtCLFlBQU07QUFDdkJqRSxFQUFBQSxvQkFBb0IsQ0FBQ1MsVUFBckI7QUFDQSxDQUZEIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCDCqSBNSUtPIExMQyAtIEFsbCBSaWdodHMgUmVzZXJ2ZWRcbiAqIFVuYXV0aG9yaXplZCBjb3B5aW5nIG9mIHRoaXMgZmlsZSwgdmlhIGFueSBtZWRpdW0gaXMgc3RyaWN0bHkgcHJvaGliaXRlZFxuICogUHJvcHJpZXRhcnkgYW5kIGNvbmZpZGVudGlhbFxuICogV3JpdHRlbiBieSBBbGV4ZXkgUG9ydG5vdiwgOCAyMDIwXG4gKi9cbi8qIGdsb2JhbCBhY2UsIFBieEFwaSAqL1xuXG5jb25zdCBzeXN0ZW1EaWFnbm9zdGljTG9ncyA9IHtcblx0JHNob3dCdG46ICQoJyNzaG93LWxhc3QtbG9nJyksXG5cdHZpZXdlcjogJycsXG5cdCRmaWxlU2VsZWN0RHJvcERvd246ICQoJyNzeXN0ZW0tZGlhZ25vc3RpYy1mb3JtIC5maWxlbmFtZXMtc2VsZWN0JyksXG5cdGxvZ3NJdGVtczogW10sXG5cdGRlZmF1bHRMb2dJdGVtOiBudWxsLFxuXHQkZm9ybU9iajogJCgnI3N5c3RlbS1kaWFnbm9zdGljLWZvcm0nKSxcblx0JGZpbGVOYW1lOiAkKCcjc3lzdGVtLWRpYWdub3N0aWMtZm9ybSAuZmlsZW5hbWUnKSxcblx0aW5pdGlhbGl6ZSgpIHtcblx0XHRzeXN0ZW1EaWFnbm9zdGljTG9ncy5pbml0aWFsaXplQWNlKCk7XG5cdFx0UGJ4QXBpLlN5c2xvZ0dldExvZ3NMaXN0KHN5c3RlbURpYWdub3N0aWNMb2dzLmNiRm9ybWF0RHJvcGRvd25SZXN1bHRzKTtcblxuXHRcdHN5c3RlbURpYWdub3N0aWNMb2dzLiRzaG93QnRuLm9uKCdjbGljaycsIChlKSA9PiB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRjb25zdCBkYXRhID0gc3lzdGVtRGlhZ25vc3RpY0xvZ3MuJGZvcm1PYmouZm9ybSgnZ2V0IHZhbHVlcycpO1xuXHRcdFx0UGJ4QXBpLlN5c2xvZ0dldExvZ0Zyb21GaWxlKGRhdGEuZmlsZW5hbWUsIGRhdGEuZmlsdGVyLCBkYXRhLmxpbmVzLCBzeXN0ZW1EaWFnbm9zdGljTG9ncy5jYlVwZGF0ZUxvZ1RleHQpO1xuXHRcdH0pO1xuXHR9LFxuXHRpbml0aWFsaXplQWNlKCkge1xuXHRcdGNvbnN0IEluaU1vZGUgPSBhY2UucmVxdWlyZSgnYWNlL21vZGUvanVsaWEnKS5Nb2RlO1xuXHRcdHN5c3RlbURpYWdub3N0aWNMb2dzLnZpZXdlciA9IGFjZS5lZGl0KCdsb2ctY29udGVudC1yZWFkb25seScpO1xuXHRcdHN5c3RlbURpYWdub3N0aWNMb2dzLnZpZXdlci5zZXRSZWFkT25seSh0cnVlKTtcblx0XHRzeXN0ZW1EaWFnbm9zdGljTG9ncy52aWV3ZXIuc2Vzc2lvbi5zZXRNb2RlKG5ldyBJbmlNb2RlKCkpO1xuXHRcdHN5c3RlbURpYWdub3N0aWNMb2dzLnZpZXdlci5zZXRUaGVtZSgnYWNlL3RoZW1lL21vbm9rYWknKTtcblx0XHRzeXN0ZW1EaWFnbm9zdGljTG9ncy52aWV3ZXIucmVzaXplKCk7XG5cdFx0c3lzdGVtRGlhZ25vc3RpY0xvZ3Mudmlld2VyLnNldFNob3dQcmludE1hcmdpbihmYWxzZSk7XG5cdFx0c3lzdGVtRGlhZ25vc3RpY0xvZ3Mudmlld2VyLnNldE9wdGlvbnMoe1xuXHRcdFx0bWF4TGluZXM6IDQ1LFxuXHRcdH0pO1xuXHR9LFxuXHQvKipcblx0ICogTWFrZXMgZm9ybWF0dGVkIG1lbnUgc3RydWN0dXJlXG5cdCAqL1xuXHRjYkZvcm1hdERyb3Bkb3duUmVzdWx0cyhyZXNwb25zZSkge1xuXHRcdGlmIChyZXNwb25zZSA9PT1mYWxzZSl7XG5cdFx0XHRyZXR1cm4gO1xuXHRcdH1cblx0XHRzeXN0ZW1EaWFnbm9zdGljTG9ncy5sb2dzSXRlbXMgPSBbXTtcblx0XHRjb25zdCBmaWxlcyA9IHJlc3BvbnNlLmZpbGVzO1xuXHRcdCQuZWFjaChmaWxlcywgKGluZGV4LCBpdGVtKSA9PiB7XG5cdFx0XHRzeXN0ZW1EaWFnbm9zdGljTG9ncy5sb2dzSXRlbXMucHVzaCh7XG5cdFx0XHRcdG5hbWU6IGAke2luZGV4fSAoJHtpdGVtLnNpemV9KWAsXG5cdFx0XHRcdHZhbHVlOiBpdGVtLnBhdGgsXG5cdFx0XHRcdHNlbGVjdGVkOiBpdGVtLmRlZmF1bHRcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHRcdHN5c3RlbURpYWdub3N0aWNMb2dzLiRmaWxlU2VsZWN0RHJvcERvd24uZHJvcGRvd24oXG5cdFx0XHR7XG5cdFx0XHRcdHZhbHVlczogc3lzdGVtRGlhZ25vc3RpY0xvZ3MubG9nc0l0ZW1zLFxuXHRcdFx0XHRvbkNoYW5nZTogc3lzdGVtRGlhZ25vc3RpY0xvZ3MuY2JPbkNoYW5nZUZpbGUsXG5cdFx0XHRcdGlnbm9yZUNhc2U6IHRydWUsXG5cdFx0XHRcdGZ1bGxUZXh0U2VhcmNoOiB0cnVlLFxuXHRcdFx0XHRmb3JjZVNlbGVjdGlvbjogZmFsc2UsXG5cdFx0XHR9XG5cdFx0KTtcblx0fSxcblx0LyoqXG5cdCAqIENhbGxiYWNrIGFmdGVyIGNoYW5nZSBsb2cgZmlsZSBpbiBzZWxlY3Rcblx0ICogQHBhcmFtIHZhbHVlXG5cdCAqL1xuXHRjYk9uQ2hhbmdlRmlsZSh2YWx1ZSkge1xuXHRcdGlmICh2YWx1ZS5sZW5ndGg9PT0wKXtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0c3lzdGVtRGlhZ25vc3RpY0xvZ3MuJGZvcm1PYmouZm9ybSgnc2V0IHZhbHVlJywgJ2ZpbGVuYW1lJywgdmFsdWUpO1xuXHRcdGNvbnN0IGRhdGEgPSBzeXN0ZW1EaWFnbm9zdGljTG9ncy4kZm9ybU9iai5mb3JtKCdnZXQgdmFsdWVzJyk7XG5cdFx0UGJ4QXBpLlN5c2xvZ0dldExvZ0Zyb21GaWxlKGRhdGEuZmlsZW5hbWUsIGRhdGEuZmlsdGVyLCBkYXRhLmxpbmVzLCBzeXN0ZW1EaWFnbm9zdGljTG9ncy5jYlVwZGF0ZUxvZ1RleHQpO1xuXHR9LFxuXHQvKipcblx0ICogVXBkYXRlcyBsb2cgdmlld1xuXHQgKiBAcGFyYW0gZGF0YVxuXHQgKi9cblx0Y2JVcGRhdGVMb2dUZXh0KGRhdGEpIHtcblx0XHRzeXN0ZW1EaWFnbm9zdGljTG9ncy52aWV3ZXIuZ2V0U2Vzc2lvbigpLnNldFZhbHVlKGRhdGEuY29udGVudCk7XG5cdFx0Y29uc3Qgcm93ID0gc3lzdGVtRGlhZ25vc3RpY0xvZ3Mudmlld2VyLnNlc3Npb24uZ2V0TGVuZ3RoKCkgLSAxO1xuXHRcdGNvbnN0IGNvbHVtbiA9IHN5c3RlbURpYWdub3N0aWNMb2dzLnZpZXdlci5zZXNzaW9uLmdldExpbmUocm93KS5sZW5ndGg7IC8vIG9yIHNpbXBseSBJbmZpbml0eVxuXHRcdHN5c3RlbURpYWdub3N0aWNMb2dzLnZpZXdlci5nb3RvTGluZShyb3cgKyAxLCBjb2x1bW4pO1xuXHR9LFxufTtcblxuJChkb2N1bWVudCkucmVhZHkoKCkgPT4ge1xuXHRzeXN0ZW1EaWFnbm9zdGljTG9ncy5pbml0aWFsaXplKCk7XG59KTtcblxuIl19